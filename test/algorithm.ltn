function test_range(range) {
	std::println(std::array(range));
	std::println(std::begin(range));
	std::println(std::end(range));
	std::println("size: " + std::size(range));
	std::for_each(range, &std::print(_));
	std::println("");
	std::println("sum(range) =     " + std::sum(range));
	std::println("sum(range, \"\") = " + std::sum(range, ""));
}

function main() {
	var array = [2,3,4,1];
	std::sort_ascn(array);
	std::println(array);
	

	std::println("=== whole ===");
	var whole = std::whole(array);
	test_range(whole);
	test_range(array);

	std::println("=== range 0 -> 2 ===");
	var range = std::range(array, 0, 2);
	test_range(range);


	std::println("=== first_n 3 ===");
	var first3 = std::first_n(array, 3);
	test_range(first3);

	std::println("=== last_n 3 ===");
	var last3 = std::last_n(array, 3);
	test_range(last3);
	
	std::println("=== MISC ===");	
	std::println(std::find(array, 1));
	std::println(std::find(array, 2));
	std::println(std::find(array, 3));
	std::println(std::find(array, 4));
	std::println(std::find(array, 5));

	std::println("=== copy ===");
	var a1 = [1,2,3];
	std::println(a1);
	var a2 = [4,5,6];
	std::copy_back(a2, a1);
	std::println(a1);
	std::copy_front(a2, a1);
	std::println(a1);
	std::fill(std::first_n(a1, 3), 42);
	std::println(a1);
	std::reverse(a1, 42);
	std::println(a1);
	std::sort_ascn(a1);
	std::println(std::is_sorted_ascn(a1));
	std::println(a1);
	std::sort_desc(a1);
	std::println(std::is_sorted_desc(a1));
	std::println(a1);
}