namespace test {
	function stack_push_pop_peek() {
		var fx = lambda(values) {
			var stack = std::stack();
			for (i : 0 -> std::size(values)) {
				std::push(stack, values[i]);
			}
			var q0 = std::pop(stack);
			var q1 = std::peek(stack);
			return q1 + q0;
		};

		var cases = [
			[[[1, 2, 40]], 42],
			[[[337, 1000]], 1337],
			[[[-3, -5, 42, 1, 1, 1, 1]], 2],
		];

		return test_all_cases("Stack(push, pop, peek)", fx, cases);
	}

	function stack_size() {
		var fx = lambda(size) {
			var stack = std::stack();
			for (i : 0 -> size) {
				std::push(stack, 42);
			}
			return std::size(stack);
		};

		var cases = [
			[[3],3],
			[[4],4],
			[['A'],65],
		];

		return test_all_cases("Stack(size)", fx, cases);
	}

	function stack() {
		return
			stack_push_pop_peek()+
			stack_size();
	}
}