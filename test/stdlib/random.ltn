namespace stdlib {
	function test_rng(sphinx, rng, rng_name) {
		var test_int = lambda[rng](min, max) {
			var value = std::random::rand_int(rng, min, max);
			return std::is_between(value, min, max);
		};

		var test_float = lambda[rng](min, max) {
			var value = std::random::rand_float(rng, min, max);
			return std::is_between(value, min, max);
		};

		var test_decision = lambda[rng](p)
			=> std::random::decision(rng, p);
		
		var cases_i_f = [
			sphinx::assert_between([rng, -5, 5],       [-5, 5]),
			sphinx::assert_between([rng, -5, 5],       [-5, 5]),
			sphinx::assert_between([rng, 5, -5],       [-5, 5]),
			sphinx::assert_between([rng, 0,  0],       [0,0]),
			sphinx::assert_between([rng, false, true], [false, true]),
			sphinx::assert_between([rng, -3, 1000],    [-3, 1000]),
			sphinx::assert_between([rng, -3, -1],      [-3, -1]),
		];

		var cases_b = [
			sphinx::assert_result([0.0], false),
			sphinx::assert_result([1.0], true),
		];
		
		sphinx::run_test(
			sphinx,
			rng_name + ": std::random::rand_int",
			&std::random::rand_int(_,_,_),
			cases_i_f);
		
		sphinx::run_test(
			sphinx,
			rng_name + ": std::random::rand_float",
			&std::random::rand_float(_,_,_),
			cases_i_f);
		
		sphinx::run_test(
			sphinx,
			rng_name + ": std::random::decision",
			test_decision,
			cases_b);
	}


	function random(sphinx) {
		test_rng(sphinx, std::random::mersenne(), "Mersenne twister");
	}
}