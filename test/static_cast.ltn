namespace sphinx::test {
	function static_cast_bool() {
		assert_equal(std::str(static_cast<bool>(1)), "true");
		assert_equal(std::str(static_cast<bool>(0)), "false");
		assert_equal(std::str(static_cast<bool>(100)), "true");
		assert_equal(std::str(static_cast<bool>(-1)), "true");
		assert_equal(std::str(static_cast<bool>(null)), "false");
		assert_equal(std::str(static_cast<bool>("")), "true");
		assert_equal(std::str(static_cast<bool>('A')), "true");
		assert_equal(std::str(static_cast<bool>([])), "true");
	}

	
	
	function static_cast_array() {
		assert_equal(static_cast<array<int>>([1.5, 2.5, 3.5]), [1,2,3]);
		assert_equal(static_cast<array<int>>("ABC"), [65, 66, 67]);
		assert_equal(static_cast<array<bool>>([0.0, 1.5, 0.1]), [false,true,true]);
	}



	function static_cast_array_copy() {
		var a : array<array<int>> = [[1,2,3], [4,5,6]];
		var b : auto = static_cast<array<array<float>>>(a);
		var c : auto = static_cast<array<array<int>>>(a);

		b[0][0] = 42;
		c[0][0] = 1337;

		assert_equal(a, [[1,2,3], [4,5,6]]);
		assert_equal(b, [[42,2,3], [4,5,6]]);
		assert_equal(c, [[1337,2,3], [4,5,6]]);
	}



	function static_cast_string() {
		assert_equal(static_cast<string>(['A', 'B', 'C']), "ABC");
		assert_equal(static_cast<string>([65, 66, 67]), "ABC");
		assert_equal(static_cast<string>([65.0, 66.0, 67.0]), "ABC");
	}



	function static_cast_string_copy() {
		var str : auto = "ABC";
		var x : auto = static_cast<string>(str);
		var y : auto = static_cast<string>(str);
		var z : auto = static_cast<string>(str);

		x[0] = 'X';
		y[0] = 'Y';
		z[0] = 'Z';

		assert_equal(str, "ABC");
		assert_equal(x, "XBC");
		assert_equal(y, "YBC");
		assert_equal(z, "ZBC");
	}



	function static_cast_type() {
		assert_equal(decltype(static_cast<bool>(0)).name,        "bool");
		assert_equal(decltype(static_cast<char>(0)).name,        "char");
		assert_equal(decltype(static_cast<int>(0)).name,         "int");
		assert_equal(decltype(static_cast<float>(0)).name,       "float");
		assert_equal(decltype(static_cast<string>("")).name,     "string");
		assert_equal(decltype(static_cast<array<int>>("")).name, "array<int>");
	}
}