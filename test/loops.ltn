namespace test {
	function for_alt1() {
		var fx = lambda(begin, end, step) {
			var sum = 0;
			for (i : begin -> end : step) {
				sum += i;
			}
			return sum;
		};

		var cases = [
			[[1, 3, 1], 3],
			[[3, 1, -1], 6],
			[[0, 10, 2], 20],
			[[10, 0, -2], 30],
			[[-1, 3, 1], 2],
			[[-3, -1, 1], -5],
			[[-3, 3, 1], -3],
			[[-5, 6, 1], 0],
			[[0, 10, 1], 45],
			[[0, 11, 1], 55],
			[[-1, 10, 1], 44],
		];

		return test_all_cases("for", fx, cases); 
	}

	function while_loop() {
		var fx = lambda(arr, stop) {
			var i = 0;
			while(i < std::size(arr) && arr[i] != stop) {
				i+=1;
			}
			if(i >= std::size(arr)) {
				return -1;
			};

			return i;
		}
		except(e) {
			return -1;
		};

		var cases = [
			[[[1,2,3], 3], 2],
			[[[1,2,3], 4], -1],
			[[[1337, 42], 3], -1],
			[[[1337, 42], 666], -1],
			[[[1337, 666, 42], 666], 1],
			[[[1337, 666, 42], 42], 2],
		];

		return test_all_cases("while", fx, cases);
	}

	function loops() {
		return while_loop() + for_alt1();
	}
}