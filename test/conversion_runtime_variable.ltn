namespace sphinx::test {
	namespace local {
		function convert_variable_b(x : any) -> bool {
			var y : bool = x; 
			return y;
		}
		
		function convert_variable_c(x : any) -> char { 
			var y : char = x; 
			return y;
		}

		function convert_variable_i(x : any) -> int {
			var y : int = x; 
			return y;
		}

		function convert_variable_f(x : any) -> float { 
			var y : float = x; 
			return y;
		}

		function convert_variable_s(x : any) -> string  {
		 	var y : string = x; 
			return y;
		}

		function convert_variable_a(x : any) -> array<any> {
		 	var y : array<any> = x; 
			return y;
		}

		function convert_variable_a_i(x : any) -> array<int> { 
			var y :  array<int> = x; 
			return y;
		}

		function convert_variable_a_f(x : any) -> array<float> {
		 	var y : array<float>  = x; 
			return y;
		}

		function convert_variable_o(x : any) -> optional<any> {
		 	var y : optional<any> = x; 
			return y;
		}

		function convert_variable_o_i(x : any) -> optional<int> {
		 	var y : optional<int> = x; 
			return y;
		}

		function convert_variable_o_f(x : any) -> optional<float> { 
			var y : optional<float> = x; 
			return y;
		}

		function convert_variable_is(x : any) -> istream { 
			var y : istream = x; 
			return y;
		}

		function convert_variable_os(x : any) -> ostream { 
			var y : ostream = x; 
			return y;
		}
	}

	

	function conversion_runtime_variable_numeric() {
		assert_equal_strict(local::convert_variable_b(true), true);
		assert_equal_strict(local::convert_variable_b('A'), true);
		assert_equal_strict(local::convert_variable_b(42), true);
		assert_equal_strict(local::convert_variable_b(13.37), true);
		assert_equal_strict(local::convert_variable_b("ABC"), true);
		assert_equal_strict(local::convert_variable_b([1,2,3]), true);

		assert_equal_strict(local::convert_variable_c(true), true : char);
		assert_equal_strict(local::convert_variable_c('A'), 'A');
		assert_except(lambda => local::convert_variable_c(42));
		assert_except(lambda => local::convert_variable_c(13.37));
		assert_except(lambda => local::convert_variable_c("ABC"));
		assert_except(lambda => local::convert_variable_c([1,2,3]));

		assert_equal_strict(local::convert_variable_i(true), 1);
		assert_equal_strict(local::convert_variable_i('A'), 65);
		assert_equal_strict(local::convert_variable_i(42), 42);
		assert_except(lambda => local::convert_variable_i(13.37));
		assert_except(lambda => local::convert_variable_i("ABC"));
		assert_except(lambda => local::convert_variable_i([1,2,3]));

		assert_equal_strict(local::convert_variable_f(true), 1.0);
		assert_equal_strict(local::convert_variable_f('A'), 65.0);
		assert_equal_strict(local::convert_variable_f(42), 42.0);
		assert_equal_strict(local::convert_variable_f(13.37), 13.37);
		assert_except(lambda => local::convert_variable_f("ABC"));
		assert_except(lambda => local::convert_variable_f([1,2,3]));
	}



	function conversion_runtime_variable_string() {
		assert_except(lambda => local::convert_variable_s(true));
		assert_except(lambda => local::convert_variable_s('A'));
		assert_except(lambda => local::convert_variable_s(42));
		assert_except(lambda => local::convert_variable_s(13.37));
		assert_equal_strict(local::convert_variable_s("ABC"), "ABC");
		assert_except(lambda => local::convert_variable_s([1,2,3]));
	}



	function conversion_runtime_variable_array() {
		assert_except(lambda => local::convert_variable_a(true));
		assert_except(lambda => local::convert_variable_a('A'));
		assert_except(lambda => local::convert_variable_a(42));
		assert_except(lambda => local::convert_variable_a(13.37));
		assert_except(lambda => local::convert_variable_a("ABC"));

		assert_equal_strict(local::convert_variable_a_i([1]), [1]);
		assert_except(lambda => local::convert_variable_a_i([1.0]));

		assert_equal_strict(local::convert_variable_a_i([1]), [1]);
		assert_except(lambda => local::convert_variable_a_i([1.0]));
	}



	function conversion_runtime_variable_optional() {
		assert_equal_strict(local::convert_variable_o(true), true);
		assert_equal_strict(local::convert_variable_o('A'), 'A');
		assert_equal_strict(local::convert_variable_o(42), 42);
		assert_equal_strict(local::convert_variable_o(13.37), 13.37);
		assert_equal_strict(local::convert_variable_o("ABC"), "ABC");
		assert_equal_strict(local::convert_variable_o([1,2,3]), [1,2,3]);
		assert_equal_strict(local::convert_variable_o(null), null);

		assert_equal_strict(local::convert_variable_o_i(true), 1);
		assert_equal_strict(local::convert_variable_o_i('A'), 65);
		assert_equal_strict(local::convert_variable_o_i(42), 42);
		assert_except(lambda => local::convert_variable_o_i(13.37));
		assert_except(lambda => local::convert_variable_o_i("ABC"));
		assert_except(lambda => local::convert_variable_o_i([1,2,3]));
		assert_equal_strict(local::convert_variable_o_i(null), null);

		assert_equal_strict(local::convert_variable_o_f(true), 1.0);
		assert_equal_strict(local::convert_variable_o_f('A'), 65.0);
		assert_equal_strict(local::convert_variable_o_f(42), 42.0);
		assert_equal_strict(local::convert_variable_o_f(13.37), 13.37);
		assert_except(lambda => local::convert_variable_o_f("ABC"));
		assert_except(lambda => local::convert_variable_o_f([1,2,3]));
		assert_equal_strict(local::convert_variable_o_f(null), null);
	}



	function conversion_runtime_variable_iostream() {
		assert_success(lambda => local::convert_variable_is(std::cin() : any));
		assert_except(lambda => local::convert_variable_os(std::cin() : any));

		assert_except(lambda => local::convert_variable_is(std::cout() : any));
		assert_success(lambda => local::convert_variable_os(std::cout() : any));
	}
}