namespace core {
    function for_loop(sphinx) {
        var fx = lambda(begin, end, step) {
			var sum = 0;
			for (i : begin -> end : step) {
				sum += i;
			}
			return sum;
		};

		var cases = [
			sphinx::assert_result([1, 3, 1], 3),
			sphinx::assert_result([3, 1, -1], 6),
			sphinx::assert_result([0, 10, 2], 20),
			sphinx::assert_result([10, 0, -2], 30),
			sphinx::assert_result([-1, 3, 1], 2),
			sphinx::assert_result([-3, -1, 1], -5),
			sphinx::assert_result([-3, 3, 1], -3),
			sphinx::assert_result([-5, 6, 1], 0),
			sphinx::assert_result([0, 10, 1], 45),
			sphinx::assert_result([0, 11, 1], 55),
			sphinx::assert_result([-1, 10, 1], 44),
			sphinx::assert_fail(["A", 10, 1]),
			sphinx::assert_fail([null, null, null]),
		];

		sphinx::run_test(sphinx, "for", fx, cases); 
    }
}