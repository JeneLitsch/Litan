namespace op {
	function bitand_type(sphinx) {
		var any = "";
		var cases = [
			type_check(decltype(1 & 1), "int"),
			type_check(decltype(any & 1), "int"),
			type_check(decltype(0.0 & 1), "error"),
		];

        sphinx::run_test(sphinx, "Operator & type",  lambda(x) => x, cases);
	}


	function bitand_value(sphinx) {
		var cases = [
			sphinx::assert_result([0b011, 0b110], 0b010),
			sphinx::assert_result([0b001, 0b100], 0b000),
			sphinx::assert_result([1, true], 1),
		];
		
		var fx = lambda (a, b) => a & b;
        sphinx::run_test(sphinx, "Operator &",  fx, cases);
	}


    function bitand(sphinx) {
		bitand_value(sphinx);
		bitand_type(sphinx);
    }
}