struct Bar {
	var int x;
}

struct Foo {
	var Bar bar;
	var int test;
}

fnx fx(int a, int b) Foo {
	var Foo foo = new Foo(new Bar(a), b);
	return foo;
}

fnx main() voi {
	var Foo foo = ->fx(42, 1337);
	->print(foo.test);
	->print(foo.bar.x);
	asm {
		"load 0"
		"heap::exist"
		"print"
	}
	del foo.bar;
	del foo;
	asm {
		"load 0"
		"heap::exist"
		"print"
	}
	return;
}